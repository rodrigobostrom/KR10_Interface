<!DOCTYPE html>
<html>

  <head>

    <meta charset="utf-8" />

    <link rel="stylesheet" type="text/css" href="Css/main.css">

    <script type="text/javascript" src="http://static.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
    <script type="text/javascript" src="http://static.robotwebtools.org/roslibjs/current/roslib.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- JAVASCRIPT FILES -->
    <script type="text/javascript" src="Javascripts/ConnectionState.js"></script>
    <script type="text/javascript" src="Javascripts/Ros.js"></script>
    <script type="text/javascript" src="Javascripts/PowerSource.js"></script>
    <script type="text/javascript" src="Javascripts/JointStates.js"></script>
    <script type="text/javascript" src="Javascripts/RvizTable.js"></script>
    <script type="text/javascript" src="Javascripts/RobotPosition.js"></script>
    <script type="text/javascript" src="Javascripts/RobotOrientation.js"></script>
    <script type="text/javascript" src="Javascripts/Graph.js"></script>

    <script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.js"></script>

    <title>KUKA Robots</title>

  </head>

  <body>
    <script>
      init();
    </script>
    <div class="container">

      <div class="header">
        <div id="kr10_label">
          <h1>KR10 R1420</h1>
        </div>
        <div id="connection_state">
          <input class ="connected_disconnected_image" id='connected_image' type="image" src="img/Disconnected.png" onclick="connect();" />
        </div>

        <script>
          setInterval(updateConnectionImage, 300);
        </script>
      </div>

      <div class="chart">
        <div id="chartCurrent" style="height: 30%; width: 90%;"></div>
        <div id="chartVoltage" style="height: 30%; width: 90%; margin-top: 50px;"></div>
        <div id="chartWireFeed" style="height: 30%; width: 90%; margin-top: 50px;"></div>
      </div>
    
      <div class="robot_viz">
        <h1>Robot Visualization</h1>
        <div id="robot_viz_container">
          <!-- Tela onde aparecerá o RVIZ do robô -->
        </div>
        <button type="button" id="rviz_button" onclick="startRobotViz()"><h3>Start RVIZ</h3></button>

        <div class='robot_pose'>
          
          <div class="pose_table">
            <h2>Position</h2>
            <table id="robot_position" cellpadding="2" border="1"> </table>
          </div>
          <script>
            createPositionTable();
            setInterval(updatePositionTable, 300);
          </script>

          <div class="pose_table">
            <h2>Orientation (Quaternion)</h2>
            <table id="robot_orientation" cellpadding="2" border="1"> </table>
          </div>
          <script>
            createOrientationTable();
            setInterval(updateOrientationTable, 300);
          </script>
        </div>

      </div>

      <div class="data">

        <h1>Joint States</h1>
        <table id="joint_state" cellspacing="4">
          <th id="table_label">Juntas</th>
          <th id="table_label">A1</th>
          <th id="table_label">A2</th>
          <th id="table_label">A3</th>
          <th id="table_label">A4</th>
          <th id="table_label">A5</th>
          <th id="table_label">A6</th>
        </table>
        <script>
          createJointStateSubscriber();
          generateJointStateTable();
          setInterval(updateJointStateTable,300);
        </script>
      </div>

      <div class="data">

        <h1>Power Sourcer Readings</h1>
        <div id="robot_laser_table">
          <table id="power_sourcer" cellpadding="2" border="1"> </table>
        </div>
        <script>
          createPwrSrcTable();
          setInterval(updatePowerSourcerReadings, 300);
        </script>

      </div>

      <div class='footer'>
        <h3 id="texto_footer">Desenvolvido no LEAD - Laboratório de Controle e Automação, Engenharia de Aplicação e Desenvolvimento - UFRJ</h3>
      </div>

    </div>

  </body>

</html>